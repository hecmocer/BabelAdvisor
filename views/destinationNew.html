<div ng-controller="NewDestinationCtrl">

    <div class="col-sm-10 col-sm-offset-1">
        <h1>Nuevo Destino</h1>
        <br>

        <div class="alert alert-success" ng-show="successMessage" ng-bind-html="successMessage"></div>
        <div class="alert alert-error" ng-show="errorMessage" ng-bind-html="errorMessage"></div>

        <form name="destinationForm" class="form-horizontal" novalidate ng-submit="destinationForm.$valid && validCountry && saveForm()">

            <div class="form-group" ng-class="
            { 'has-success': destinationForm.name.$valid
            && destinationForm.name.$dirty,
            'has-error': destinationForm.name.$invalid
            && destinationForm.name.$dirty }">
                <label for="name" class="col-sm-2 control-label">Nombre</label>
                <div class="col-sm-9 col-xs-11">
                    <input type="text" name="name" class="form-control" ng-model="model.name" required>
                </div>
                <div class="col-sm-1 col-xs-1">
                    <span class="glyphicon" ng-class="
                    { 'glyphicon-ok green_class': destinationForm.name.$valid
                    && destinationForm.name.$dirty,
                    'glyphicon-remove red_class': destinationForm.name.$invalid
                    && destinationForm.name.$dirty ,
                    'glyphicon-pencil': destinationForm.name.$pristine }"></span>
                </div>
            </div>

            <div class="form-group" ng-class="
            { 'has-success': validCountry
            && destinationForm.country.$dirty,
            'has-error': invalidCountry
            && destinationForm.country.$dirty }">
                <label for="country" class="col-sm-2 control-label">País</label>
                <div class="col-sm-5 col-xs-11">
                    <input type="text" name="country" class="form-control" ng-model="model.country" required>
                </div>
                <div class="col-sm-2 col-xs-1">
                    <span class="glyphicon" ng-class="
                    { 'glyphicon-ok green_class': validCountry
                    && destinationForm.country.$dirty,
                    'glyphicon-remove red_class': invalidCountry
                    && destinationForm.country.$dirty ,
                    'glyphicon-pencil': destinationForm.country.$pristine }"></span>
                </div>
                <div class="col-xs-2 col-xs-offset-4 col-sm-offset-0">
                    <div class="dropdown pull-right">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Listado de paises
                        <span class="caret"></span></button>
                        <ul class="dropdown-menu">
                            <li ng-repeat="item in countries">
                                <a href="#">{{::item }}</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-xs-1"></div>
            </div>

            <div class="form-group" ng-class="
            { 'has-success': destinationForm.picture_main.$valid
            && destinationForm.picture_main.$dirty,
            'has-error': destinationForm.picture_main.$invalid
            && destinationForm.picture_main.$dirty }">
                <label for="picture_main" class="col-sm-2 control-label">Carátula</label>
                <div class="col-sm-9 col-xs-11">
                    <input type="url" name="picture_main" placeholder="http://" class="form-control" ng-model="model.picture_main" required>
                </div>
                <div class="col-sm-1 col-xs-1">
                    <span class="glyphicon" ng-class="
                    { 'glyphicon-ok green_class': destinationForm.picture_main.$valid
                    && destinationForm.picture_main.$dirty,
                    'glyphicon-remove red_class': destinationForm.picture_main.$invalid
                    && destinationForm.picture_main.$dirty,
                    'glyphicon-pencil': destinationForm.picture_main.$pristine }"></span>
                </div>
            </div>

            <div class="panel panel-default">
                <div class="panel-heading">
                    Opcional
                </div>
                <div class="panel-body">

                    <div class="form-group" ng-class="
                    { 'has-success': destinationForm.picture_1.$valid
                    && destinationForm.picture_1.$dirty,
                    'has-error': destinationForm.picture_1.$invalid
                    && destinationForm.picture_1.$dirty }">
                        <label for="picture_1" class="col-sm-2 control-label">Imagen 1</label>
                        <div class="col-sm-9 col-xs-11">
                            <input type="url" name="picture_1" placeholder="http://" class="form-control" ng-model="model.picture_1">
                        </div>
                        <div class="col-sm-1 col-xs-1">
                        </div>
                    </div>

                    <div class="form-group" ng-class="
                    { 'has-success': destinationForm.picture_2.$valid
                    && destinationForm.picture_2.$dirty,
                    'has-error': destinationForm.picture_2.$invalid
                    && destinationForm.picture_2.$dirty }">
                        <label for="picture_2" class="col-sm-2 control-label">Imagen 2</label>
                        <div class="col-sm-9 col-xs-11">
                            <input type="url" name="picture_2" placeholder="http://" class="form-control" ng-model="model.picture_2">
                        </div>
                        <div class="col-sm-1 col-xs-1">
                        </div>
                    </div>

                    <div class="form-group" ng-class="
                    { 'has-success': destinationForm.picture_3.$valid
                    && destinationForm.picture_3.$dirty,
                    'has-error': destinationForm.picture_3.$invalid
                    && destinationForm.picture_3.$dirty }">
                        <label for="picture_3" class="col-sm-2 control-label">Imagen 3</label>
                        <div class="col-sm-9 col-xs-11">
                            <input type="url" name="picture_3" placeholder="http://" class="form-control" ng-model="model.picture_3">
                        </div>
                        <div class="col-sm-1 col-xs-1">
                        </div>
                    </div>

                    <div class="form-group" ng-class="
                    { 'has-success': destinationForm.opinion.$valid
                    && destinationForm.opinion.$dirty,
                    'has-error': destinationForm.opinion.$invalid
                    && destinationForm.opinion.$dirty }">
                        <label for="opinion" class="col-sm-2 control-label">Opinión</label>
                        <div class="col-sm-9 col-xs-11">
                            <textarea name="opinion" ng-model="model.opinion" class="form-control">
                            </textarea>
                        </div>
                    </div>
                </div>
            </div>

            <center>
                <button class="btn btn-primary" type="submit" ng-disabled="destinationForm.$invalid || invalidCountry">Crear Destino!</button>
            </center>

        </form>
</div>

</div>